{"ast":null,"code":"import { cleanUpListener as cleanUpListener$1 } from './cleanUpListener.js';\n\nconst newListenerEffect = (store, mapState, originalHook) => () => {\n  const newListener = {\n    oldState: {}\n  };\n  newListener.run = mapState ? newState => {\n    const mappedState = mapState(newState);\n\n    if (mappedState !== newListener.oldState) {\n      newListener.oldState = mappedState;\n      originalHook(mappedState);\n    }\n  } : originalHook;\n  store.listeners.push(newListener);\n  return cleanUpListener$1(store, newListener);\n};\n\nexport { newListenerEffect };","map":{"version":3,"sources":["E:/DanfeOnlineStore/client/node_modules/use-global-hook/esm/core/newListenerEffect.js"],"names":["cleanUpListener","cleanUpListener$1","newListenerEffect","store","mapState","originalHook","newListener","oldState","run","newState","mappedState","listeners","push"],"mappings":"AAAA,SAASA,eAAe,IAAIC,iBAA5B,QAAqD,sBAArD;;AAEA,MAAMC,iBAAiB,GAAG,CAACC,KAAD,EAAQC,QAAR,EAAkBC,YAAlB,KAAmC,MAAM;AACjE,QAAMC,WAAW,GAAG;AAClBC,IAAAA,QAAQ,EAAE;AADQ,GAApB;AAGAD,EAAAA,WAAW,CAACE,GAAZ,GAAkBJ,QAAQ,GAAGK,QAAQ,IAAI;AACvC,UAAMC,WAAW,GAAGN,QAAQ,CAACK,QAAD,CAA5B;;AAEA,QAAIC,WAAW,KAAKJ,WAAW,CAACC,QAAhC,EAA0C;AACxCD,MAAAA,WAAW,CAACC,QAAZ,GAAuBG,WAAvB;AACAL,MAAAA,YAAY,CAACK,WAAD,CAAZ;AACD;AACF,GAPyB,GAOtBL,YAPJ;AAQAF,EAAAA,KAAK,CAACQ,SAAN,CAAgBC,IAAhB,CAAqBN,WAArB;AACA,SAAOL,iBAAiB,CAACE,KAAD,EAAQG,WAAR,CAAxB;AACD,CAdD;;AAgBA,SAASJ,iBAAT","sourcesContent":["import { cleanUpListener as cleanUpListener$1 } from './cleanUpListener.js';\n\nconst newListenerEffect = (store, mapState, originalHook) => () => {\n  const newListener = {\n    oldState: {}\n  };\n  newListener.run = mapState ? newState => {\n    const mappedState = mapState(newState);\n\n    if (mappedState !== newListener.oldState) {\n      newListener.oldState = mappedState;\n      originalHook(mappedState);\n    }\n  } : originalHook;\n  store.listeners.push(newListener);\n  return cleanUpListener$1(store, newListener);\n};\n\nexport { newListenerEffect };\n"]},"metadata":{},"sourceType":"module"}